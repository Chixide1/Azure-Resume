server {
  listen 443 ssl; # Listen on port 443 for HTTPS traffic
  server_name chikdoestech.xyz; # Replace with your actual domain name

  ssl_certificate /etc/nginx/ssl/certificate.crt; # Path to your SSL certificate
  ssl_certificate_key /etc/nginx/ssl/private.key; # Path to your SSL certificate key

  # Security settings (optional but recommended)
  ssl_protocols TLSv1.2 TLSv1.3; # Enable secure TLS versions
  ssl_ciphers HIGH:!aNULL:!DH:!EXPORT:!LOW:!MD5:!RC4:!SEED:!WEAK:!3DES:!PSK; # Restrict ciphers to secure ones

  location / {
    proxy_pass https://django; # Proxy requests to Django application
    proxy_set_header Host $host;  # Preserve the original host header
    proxy_set_header X-Real-IP $remote_addr; # Forward client's IP address
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; # Maintain request forwarding information
  }

  location /static/ {
    alias /static/; # Serve static files directly from the directory
  }
}

upstream django {
  server project:8000; # Upstream server for Django application
}
